{% extends "main_g/inv_list.html" %}
{% block title %} Sales Record {% endblock %}
<body>
{% block content %}
<h1>Sales Records</h1>


<table border="1" style="width: 600px; border-collapse: collapse;">
  <thead>
    <tr>
      <th>Period</th>
      <th>Total Sales (â‚¦)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Today</td>
      <td>{{ totals.today|floatformat:2 }}</td>
    </tr>
    <tr>
      <td>This Week</td>
      <td>{{ totals.week|floatformat:2 }}</td>
    </tr>
    <tr>
      <td>This Month</td>
      <td>{{ totals.month|floatformat:2 }}</td>
    </tr>
  </tbody>
</table>
<!-- Download Buttons -->
<button onclick="openModal('day')" class="download-btn">Download Today's Sales</button>
<button onclick="openModal('week')" class="download-btn">Download This Week's Sales</button>
<button onclick="openModal('month')" class="download-btn">Download This Month's Sales</button>

<!-- Modal Popup -->
<div id="formatModal" class="modal">
  <div class="modal-content">
    <h3>Select Format</h3>
    <a id="excelLink" class="format-link">Excel (.xlsx)</a>
    <a id="pdfLink" class="format-link">PDF (.pdf)</a>
    <button onclick="closeModal()" class="close-btn">Cancel</button>
  </div>
</div>
<hr>
<a href="/">Back</a>|<a href="new/">Record Sales</a>

<script>
  function openModal(period) {
    const baseUrl = "/recsite/export/" + period + "/";
    document.getElementById('excelLink').href = baseUrl + '?format=excel';
    document.getElementById('pdfLink').href = baseUrl + '?format=pdf';
    document.getElementById('formatModal').style.display = 'block';
  }

  function closeModal() {
    document.getElementById('formatModal').style.display = 'none';
  }
</script>
{% endblock %}
</body>




